namespace com.wookler.test;

type test_type {
    string ss default "TEST STRING" nullable,
    double dd constraint (!in [2120.0, 1293.3, 98439.88, 980202.77]),
    float   fv  constraint(>=1000.00) default 8883.99,
    array<integer> arr[256],
    list<string>   ll
};

type test_ref_type {
    string name,
    map<string, typeref test_type> r_map
};

schema test_schema {
    string key,
    double dkey,
    short  sval default -128,
    typeref test_ref_type __map,
    typeref test_type __ref
} set_key_fields(key, dkey);
// comment.

index i_test_schema_01 on test_schema (key, dkey DESC, __map.name) FULLTEXT;
index i_test_schema_02 on test_schema (key, dkey DESC, __ref.ss) FULLTEXT;
